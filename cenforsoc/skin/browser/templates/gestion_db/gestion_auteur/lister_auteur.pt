<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<head>
    <metal:noborder fill-slot="top_slot"
                    tal:define="dummy python:request.set('disable_border',1)" />
</head>

<body>
<div metal:fill-slot="main"
     tal:define="auteurs python: view.getAllAuteurs()">
    <h1>Lister les auteurs</h1>
    <table>
        <thead>
            <tr>
                <th></th>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Modifier</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th></th>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Modifier</th>
            </tr>
        </tfoot>
        <tal:boucle tal:repeat="auteur auteurs">
            <span tal:define="odd repeat/auteur/odd">
                <tbody>
                    <tr tal:attributes="class python:odd and 'listing_bg_odd' or 'listing_bg_even'">
                        <td>
                            <span tal:content="auteur/auteur_pk"/>
                        </td>
                        <td>
                            <span tal:content="auteur/auteur_nom" />
                        </td>
                        <td>
                            <span tal:content="auteur/auteur_prenom" />
                        </td>
                        <td>
                            &nbsp;
                            <a href="" tal:attributes="href string:modifier-un-auteur?auteurPk=${auteur/auteur_pk}">
                                <img src="icon_modifier.png" /></a>&nbsp;
                        </td>
    			    </tr>
			    </tbody>
			</span>
		</tal:boucle>
	</table>
</div><!-- div metal-->
</body>
</html>

