<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<head>
    <metal:noborder fill-slot="top_slot"
                    tal:define="dummy python:request.set('disable_border',1)" />
</head>

<body>
<div metal:fill-slot="main"
     tal:define="livreTitre request/livreTitre | nothing;
                 livrePk request/livrePk | nothing;
                 livres python:view.getSearchingLivre(livrePk)">
   <h1>
       Gestion des livres
   </h1>
   <fieldset>
      <legend class="legende">Modifier les données d'un livre</legend>

      <tal:requete tal:define="livres python:view.getSearchingLivre(livrePk)">
          <tal:boucle tal:repeat="livre livres">
              <form action="updateLivre"
                    methof="post">
                  <div class="formInput">
                      <label for="livreTitre">Titre :</label>
                      <br />
                      <input type="text"
                             name="livreTitre"
                             size="50"
                             value=""
                             tal:attributes="value livre/liv_titre" />
                  </div>
                  <div class="formControls" align="center">
                      <input type="hidden"
                             name="livrePk"
                             value=""
                             tal:attributes="value livre/liv_pk" />
                      <input type="hidden"
                             name="operation"
                             value="update" />
                      <input class="context"
                             type="submit"
                             value="Mettre à jour le livre" />
                  </div>
              </form>
          </tal:boucle>
      </tal:requete>
</div><!-- div metal-->
</body>
</html>

